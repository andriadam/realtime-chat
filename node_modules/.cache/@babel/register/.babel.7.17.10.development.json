{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\$ Adam\\\\$Code\\\\NodeJS\\\\realtime-chat\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"D:\\\\$ Adam\\\\$Code\\\\NodeJS\\\\realtime-chat\",\"filename\":\"D:\\\\$ Adam\\\\$Code\\\\NodeJS\\\\realtime-chat\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\$ Adam\\\\$Code\\\\NodeJS\\\\realtime-chat\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar app = (0, _express[\"default\"])();\napp.set(\"port\", process.env.PORT || 9900);\napp.use(_express[\"default\"][\"static\"](_path[\"default\"].join(__dirname, \"public\"))); // Set up express\n\nvar server = _http[\"default\"].createServer(app).listen(app.get(\"port\"), function () {\n  console.log(\"Express server listening on port \" + app.get(\"port\"));\n});\n\nvar io = require('socket.io')(server);\n\nvar users = []; // connection event\n// socket represent each client connected to our server\n\nio.on(\"connection\", function (socket) {\n  socket.on(\"connect\", function () {\n    console.log(\"New connection socket.io : \", socket.io);\n  });\n  socket.on(\"disconnect\", function () {\n    console.log(\"disconect => nickname : \", socket.nickname);\n    var updatedUsers = users.filter(function (user) {\n      return user != socket.nickname;\n    });\n    console.log(\"updatedUsers : \", updatedUsers);\n    users = updatedUsers;\n    io.emit(\"userlist\", users);\n  }); //  nick event\n\n  socket.on(\"nick\", function (nickname) {\n    console.log(\"nick => nickname : \", nickname);\n    socket.nickname = nickname;\n    users.push(nickname);\n    console.log(\"server : users\", users); // emit userlist event to all connected sockets\n\n    io.emit(\"userlist\", users);\n  }); //  chat event\n\n  socket.on(\"chat\", function (data) {\n    console.log(\"chat => nickname : \", socket.nickname);\n    var d = new Date();\n    var ts = d.toLocaleString();\n    console.log(\"ts : \", ts);\n    var response = \"\".concat(ts, \" : \").concat(socket.nickname, \" : \").concat(data.message);\n    console.log(\"rs : \", response);\n    io.emit('chat', response);\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJzZXQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsInVzZSIsImV4cHJlc3MiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJnZXQiLCJjb25zb2xlIiwibG9nIiwiaW8iLCJyZXF1aXJlIiwidXNlcnMiLCJvbiIsInNvY2tldCIsIm5pY2tuYW1lIiwidXBkYXRlZFVzZXJzIiwiZmlsdGVyIiwidXNlciIsImVtaXQiLCJwdXNoIiwiZGF0YSIsImQiLCJEYXRlIiwidHMiLCJ0b0xvY2FsZVN0cmluZyIsInJlc3BvbnNlIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiRDpcXCQgQWRhbVxcJENvZGVcXE5vZGVKU1xccmVhbHRpbWUtY2hhdFxcIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IGh0dHAgZnJvbSBcImh0dHBcIjtcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcbmFwcC5zZXQoXCJwb3J0XCIsIHByb2Nlc3MuZW52LlBPUlQgfHwgOTkwMCk7XHJcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgXCJwdWJsaWNcIikpKTtcclxuXHJcbi8vIFNldCB1cCBleHByZXNzXHJcbmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCkubGlzdGVuKGFwcC5nZXQoXCJwb3J0XCIpLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJFeHByZXNzIHNlcnZlciBsaXN0ZW5pbmcgb24gcG9ydCBcIiArIGFwcC5nZXQoXCJwb3J0XCIpKTtcclxufSk7XHJcblxyXG5jb25zdCBpbyA9IHJlcXVpcmUoJ3NvY2tldC5pbycpKHNlcnZlcik7XHJcblxyXG5sZXQgdXNlcnMgPSBbXTtcclxuXHJcbi8vIGNvbm5lY3Rpb24gZXZlbnRcclxuLy8gc29ja2V0IHJlcHJlc2VudCBlYWNoIGNsaWVudCBjb25uZWN0ZWQgdG8gb3VyIHNlcnZlclxyXG5pby5vbihcImNvbm5lY3Rpb25cIiwgKHNvY2tldCkgPT4ge1xyXG4gIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJOZXcgY29ubmVjdGlvbiBzb2NrZXQuaW8gOiBcIiwgc29ja2V0LmlvKTtcclxuICB9KTtcclxuXHJcbiAgc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcImRpc2NvbmVjdCA9PiBuaWNrbmFtZSA6IFwiLCBzb2NrZXQubmlja25hbWUpO1xyXG4gICAgY29uc3QgdXBkYXRlZFVzZXJzID0gdXNlcnMuZmlsdGVyKCh1c2VyKSA9PiB1c2VyICE9IHNvY2tldC5uaWNrbmFtZSk7XHJcbiAgICBjb25zb2xlLmxvZyhcInVwZGF0ZWRVc2VycyA6IFwiLCB1cGRhdGVkVXNlcnMpO1xyXG4gICAgdXNlcnMgPSB1cGRhdGVkVXNlcnM7XHJcbiAgICBpby5lbWl0KFwidXNlcmxpc3RcIiwgdXNlcnMpO1xyXG4gIH0pO1xyXG5cclxuICAvLyAgbmljayBldmVudFxyXG4gIHNvY2tldC5vbihcIm5pY2tcIiwgKG5pY2tuYW1lKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIm5pY2sgPT4gbmlja25hbWUgOiBcIiwgbmlja25hbWUpO1xyXG4gICAgc29ja2V0Lm5pY2tuYW1lID0gbmlja25hbWVcclxuICAgIHVzZXJzLnB1c2gobmlja25hbWUpXHJcbiAgICBjb25zb2xlLmxvZyhcInNlcnZlciA6IHVzZXJzXCIsIHVzZXJzKTtcclxuICAgIC8vIGVtaXQgdXNlcmxpc3QgZXZlbnQgdG8gYWxsIGNvbm5lY3RlZCBzb2NrZXRzXHJcbiAgICBpby5lbWl0KFwidXNlcmxpc3RcIiwgdXNlcnMpO1xyXG4gIH0pO1xyXG5cclxuICAvLyAgY2hhdCBldmVudFxyXG4gIHNvY2tldC5vbihcImNoYXRcIiwgKGRhdGEpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiY2hhdCA9PiBuaWNrbmFtZSA6IFwiLCBzb2NrZXQubmlja25hbWUpO1xyXG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKClcclxuICAgIGNvbnN0IHRzID0gZC50b0xvY2FsZVN0cmluZygpXHJcbiAgICBjb25zb2xlLmxvZyhcInRzIDogXCIsIHRzKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYCR7dHN9IDogJHtzb2NrZXQubmlja25hbWV9IDogJHtkYXRhLm1lc3NhZ2V9YFxyXG4gICAgY29uc29sZS5sb2coXCJycyA6IFwiLCByZXNwb25zZSlcclxuICAgIGlvLmVtaXQoJ2NoYXQnLCByZXNwb25zZSkgXHJcbiAgfSk7XHJcblxyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBTUEsR0FBRyxHQUFHLDBCQUFaO0FBRUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLE1BQVIsRUFBZ0JDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaLElBQW9CLElBQXBDO0FBQ0FKLEdBQUcsQ0FBQ0ssR0FBSixDQUFRQyw4QkFBZUMsaUJBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFxQixRQUFyQixDQUFmLENBQVIsRSxDQUVBOztBQUNBLElBQU1DLE1BQU0sR0FBR0MsaUJBQUtDLFlBQUwsQ0FBa0JaLEdBQWxCLEVBQXVCYSxNQUF2QixDQUE4QmIsR0FBRyxDQUFDYyxHQUFKLENBQVEsTUFBUixDQUE5QixFQUErQyxZQUFNO0VBQ2xFQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzQ0FBc0NoQixHQUFHLENBQUNjLEdBQUosQ0FBUSxNQUFSLENBQWxEO0FBQ0QsQ0FGYyxDQUFmOztBQUlBLElBQU1HLEVBQUUsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBUCxDQUFxQlIsTUFBckIsQ0FBWDs7QUFFQSxJQUFJUyxLQUFLLEdBQUcsRUFBWixDLENBRUE7QUFDQTs7QUFDQUYsRUFBRSxDQUFDRyxFQUFILENBQU0sWUFBTixFQUFvQixVQUFDQyxNQUFELEVBQVk7RUFDOUJBLE1BQU0sQ0FBQ0QsRUFBUCxDQUFVLFNBQVYsRUFBcUIsWUFBTTtJQUN6QkwsT0FBTyxDQUFDQyxHQUFSLENBQVksNkJBQVosRUFBMkNLLE1BQU0sQ0FBQ0osRUFBbEQ7RUFDRCxDQUZEO0VBSUFJLE1BQU0sQ0FBQ0QsRUFBUCxDQUFVLFlBQVYsRUFBd0IsWUFBTTtJQUM1QkwsT0FBTyxDQUFDQyxHQUFSLENBQVksMEJBQVosRUFBd0NLLE1BQU0sQ0FBQ0MsUUFBL0M7SUFDQSxJQUFNQyxZQUFZLEdBQUdKLEtBQUssQ0FBQ0ssTUFBTixDQUFhLFVBQUNDLElBQUQ7TUFBQSxPQUFVQSxJQUFJLElBQUlKLE1BQU0sQ0FBQ0MsUUFBekI7SUFBQSxDQUFiLENBQXJCO0lBQ0FQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaLEVBQStCTyxZQUEvQjtJQUNBSixLQUFLLEdBQUdJLFlBQVI7SUFDQU4sRUFBRSxDQUFDUyxJQUFILENBQVEsVUFBUixFQUFvQlAsS0FBcEI7RUFDRCxDQU5ELEVBTDhCLENBYTlCOztFQUNBRSxNQUFNLENBQUNELEVBQVAsQ0FBVSxNQUFWLEVBQWtCLFVBQUNFLFFBQUQsRUFBYztJQUM5QlAsT0FBTyxDQUFDQyxHQUFSLENBQVkscUJBQVosRUFBbUNNLFFBQW5DO0lBQ0FELE1BQU0sQ0FBQ0MsUUFBUCxHQUFrQkEsUUFBbEI7SUFDQUgsS0FBSyxDQUFDUSxJQUFOLENBQVdMLFFBQVg7SUFDQVAsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0JBQVosRUFBOEJHLEtBQTlCLEVBSjhCLENBSzlCOztJQUNBRixFQUFFLENBQUNTLElBQUgsQ0FBUSxVQUFSLEVBQW9CUCxLQUFwQjtFQUNELENBUEQsRUFkOEIsQ0F1QjlCOztFQUNBRSxNQUFNLENBQUNELEVBQVAsQ0FBVSxNQUFWLEVBQWtCLFVBQUNRLElBQUQsRUFBVTtJQUMxQmIsT0FBTyxDQUFDQyxHQUFSLENBQVkscUJBQVosRUFBbUNLLE1BQU0sQ0FBQ0MsUUFBMUM7SUFDQSxJQUFNTyxDQUFDLEdBQUcsSUFBSUMsSUFBSixFQUFWO0lBQ0EsSUFBTUMsRUFBRSxHQUFHRixDQUFDLENBQUNHLGNBQUYsRUFBWDtJQUNBakIsT0FBTyxDQUFDQyxHQUFSLENBQVksT0FBWixFQUFxQmUsRUFBckI7SUFDQSxJQUFNRSxRQUFRLGFBQU1GLEVBQU4sZ0JBQWNWLE1BQU0sQ0FBQ0MsUUFBckIsZ0JBQW1DTSxJQUFJLENBQUNNLE9BQXhDLENBQWQ7SUFDQW5CLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE9BQVosRUFBcUJpQixRQUFyQjtJQUNBaEIsRUFBRSxDQUFDUyxJQUFILENBQVEsTUFBUixFQUFnQk8sUUFBaEI7RUFDRCxDQVJEO0FBVUQsQ0FsQ0QifQ==","map":{"version":3,"names":["app","set","process","env","PORT","use","express","path","join","__dirname","server","http","createServer","listen","get","console","log","io","require","users","on","socket","nickname","updatedUsers","filter","user","emit","push","data","d","Date","ts","toLocaleString","response","message"],"sourceRoot":"D:\\$ Adam\\$Code\\NodeJS\\realtime-chat\\","sources":["app.js"],"sourcesContent":["import express from \"express\";\r\nimport path from \"path\";\r\nimport http from \"http\";\r\n\r\nconst app = express();\r\n\r\napp.set(\"port\", process.env.PORT || 9900);\r\napp.use(express.static(path.join(__dirname, \"public\")));\r\n\r\n// Set up express\r\nconst server = http.createServer(app).listen(app.get(\"port\"), () => {\r\n  console.log(\"Express server listening on port \" + app.get(\"port\"));\r\n});\r\n\r\nconst io = require('socket.io')(server);\r\n\r\nlet users = [];\r\n\r\n// connection event\r\n// socket represent each client connected to our server\r\nio.on(\"connection\", (socket) => {\r\n  socket.on(\"connect\", () => {\r\n    console.log(\"New connection socket.io : \", socket.io);\r\n  });\r\n\r\n  socket.on(\"disconnect\", () => {\r\n    console.log(\"disconect => nickname : \", socket.nickname);\r\n    const updatedUsers = users.filter((user) => user != socket.nickname);\r\n    console.log(\"updatedUsers : \", updatedUsers);\r\n    users = updatedUsers;\r\n    io.emit(\"userlist\", users);\r\n  });\r\n\r\n  //  nick event\r\n  socket.on(\"nick\", (nickname) => {\r\n    console.log(\"nick => nickname : \", nickname);\r\n    socket.nickname = nickname\r\n    users.push(nickname)\r\n    console.log(\"server : users\", users);\r\n    // emit userlist event to all connected sockets\r\n    io.emit(\"userlist\", users);\r\n  });\r\n\r\n  //  chat event\r\n  socket.on(\"chat\", (data) => {\r\n    console.log(\"chat => nickname : \", socket.nickname);\r\n    const d = new Date()\r\n    const ts = d.toLocaleString()\r\n    console.log(\"ts : \", ts);\r\n    const response = `${ts} : ${socket.nickname} : ${data.message}`\r\n    console.log(\"rs : \", response)\r\n    io.emit('chat', response) \r\n  });\r\n\r\n});\r\n"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,MAAR,EAAgBC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAApC;AACAJ,GAAG,CAACK,GAAJ,CAAQC,8BAAeC,iBAAKC,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR,E,CAEA;;AACA,IAAMC,MAAM,GAAGC,iBAAKC,YAAL,CAAkBZ,GAAlB,EAAuBa,MAAvB,CAA8Bb,GAAG,CAACc,GAAJ,CAAQ,MAAR,CAA9B,EAA+C,YAAM;EAClEC,OAAO,CAACC,GAAR,CAAY,sCAAsChB,GAAG,CAACc,GAAJ,CAAQ,MAAR,CAAlD;AACD,CAFc,CAAf;;AAIA,IAAMG,EAAE,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqBR,MAArB,CAAX;;AAEA,IAAIS,KAAK,GAAG,EAAZ,C,CAEA;AACA;;AACAF,EAAE,CAACG,EAAH,CAAM,YAAN,EAAoB,UAACC,MAAD,EAAY;EAC9BA,MAAM,CAACD,EAAP,CAAU,SAAV,EAAqB,YAAM;IACzBL,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CK,MAAM,CAACJ,EAAlD;EACD,CAFD;EAIAI,MAAM,CAACD,EAAP,CAAU,YAAV,EAAwB,YAAM;IAC5BL,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCK,MAAM,CAACC,QAA/C;IACA,IAAMC,YAAY,GAAGJ,KAAK,CAACK,MAAN,CAAa,UAACC,IAAD;MAAA,OAAUA,IAAI,IAAIJ,MAAM,CAACC,QAAzB;IAAA,CAAb,CAArB;IACAP,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BO,YAA/B;IACAJ,KAAK,GAAGI,YAAR;IACAN,EAAE,CAACS,IAAH,CAAQ,UAAR,EAAoBP,KAApB;EACD,CAND,EAL8B,CAa9B;;EACAE,MAAM,CAACD,EAAP,CAAU,MAAV,EAAkB,UAACE,QAAD,EAAc;IAC9BP,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCM,QAAnC;IACAD,MAAM,CAACC,QAAP,GAAkBA,QAAlB;IACAH,KAAK,CAACQ,IAAN,CAAWL,QAAX;IACAP,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BG,KAA9B,EAJ8B,CAK9B;;IACAF,EAAE,CAACS,IAAH,CAAQ,UAAR,EAAoBP,KAApB;EACD,CAPD,EAd8B,CAuB9B;;EACAE,MAAM,CAACD,EAAP,CAAU,MAAV,EAAkB,UAACQ,IAAD,EAAU;IAC1Bb,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCK,MAAM,CAACC,QAA1C;IACA,IAAMO,CAAC,GAAG,IAAIC,IAAJ,EAAV;IACA,IAAMC,EAAE,GAAGF,CAAC,CAACG,cAAF,EAAX;IACAjB,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBe,EAArB;IACA,IAAME,QAAQ,aAAMF,EAAN,gBAAcV,MAAM,CAACC,QAArB,gBAAmCM,IAAI,CAACM,OAAxC,CAAd;IACAnB,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBiB,QAArB;IACAhB,EAAE,CAACS,IAAH,CAAQ,MAAR,EAAgBO,QAAhB;EACD,CARD;AAUD,CAlCD"}},"mtime":1652017989445}}